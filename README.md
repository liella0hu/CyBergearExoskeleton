# 一、基于肌电信号与深度视觉的上肢康复训练外骨骼综述

* 目前已完成工作内容：

  工程链接：https://github.com/liella0hu/CyBergearExoskeleton

  [基于肌电信号与深度视觉的上肢康复训练外骨骼.pptx](files/基于肌电信号与深度视觉的上肢康复训练外骨骼.pptx)

* 项目参考论文：

  [7自由度外骨骼上肢康复机器人的肩部优化及运动仿真\_刘佳俊.pdf](files/7自由度外骨骼上肢康复机器人的肩部优化及运动仿真_刘佳俊.pdf)

  该论文设计了一种7自由度外骨骼上肢康复机器人，重点优化了肩部结构，通过理论建模与仿真验证了其运动性能。主要贡献包括：

  [八自由度上肢外骨骼康复机器人设计及主动交互技术研究\_宁圆盛.pdf](files/八自由度上肢外骨骼康复机器人设计及主动交互技术研究_宁圆盛.pdf)

  该论文提出八自由度上肢外骨骼机器人构型设计，结合力反馈、sEMG和注视信息分阶段实现主动康复训练

  [穿戴式上肢康复机器人设计与交互控制方法研究\_兰旭腾.pdf](files/穿戴式上肢康复机器人设计与交互控制方法研究_兰旭腾.pdf)

  该论文针对穿戴式上肢康复机器人的设计与交互控制方法展开了系统研究：

  [机器人在脑卒中后运动障碍病...期康复训练中应用的研究进展\_周霜.pdf](files/机器人在脑卒中后运动障碍病...期康复训练中应用的研究进展_周霜.pdf)

  该论文总结了机器人技术在脑卒中康复中的应用现状、分类、具体场景及未来改进方向：

  [基于RBF神经网络的上肢外...骼康复机器人自适应控制方法\_于世伟.pdf](files/基于RBF神经网络的上肢外...骼康复机器人自适应控制方法_于世伟.pdf)

  该论文研究了如何在存在模型不确定性和未知扰动的情况下，实现外骨骼从臂对主臂运动轨迹的高精度跟踪。

  [基于ROS的上肢外骨骼康复机器人的控制系统研究\_姜哲 (1).pdf](<files/基于ROS的上肢外骨骼康复机器人的控制系统研究_姜哲 (1).pdf>)

  该论文研究了基于ROS的上肢外骨骼康复机器人控制系统：

  [基于表面肌电的上肢外骨骼控制方法研究\_赵恒阳 (1).pdf](<files/基于表面肌电的上肢外骨骼控制方法研究_赵恒阳 (1).pdf>)

  该论文探讨了sEMG的上肢外骨骼控制方法，RBF神经网络自适应逼近和滑模鲁棒控制，显著提升了上肢外骨骼从臂的轨迹跟踪精度：

  [基于表面肌电信号的关节角度预测模型\_赵紫慧.pdf](files/基于表面肌电信号的关节角度预测模型_赵紫慧.pdf)

  该论文提出结合注意力机制和残差模块的AR-LSTM模型，提升关节角度连续预测精度，助力智能假肢的自然控制。

  [基于表面肌电信号的上肢康复动作识别\_顾玉平.pdf](files/基于表面肌电信号的上肢康复动作识别_顾玉平.pdf)

  [基于表面肌电信号的上肢外骨骼康复训练系统设计\_付强 (1).pdf](<files/基于表面肌电信号的上肢外骨骼康复训练系统设计_付强 (1).pdf>)

  该论文设计基于sEMG的变刚度上肢外骨骼系统，通过PCA与K-means提高动作识别率（达89.74%），实现个性化康复训练。

  [基于机器视觉的上肢外骨骼辅助抓取系统研究\_李仪有.pdf](files/基于机器视觉的上肢外骨骼辅助抓取系统研究_李仪有.pdf)

  该论文结合视觉伺服控制与外骨骼技术，提升上肢运动功能障碍患者的自主抓取能力。

  [可穿戴柔性上肢外骨骼的研究进展与展望.pdf](files/可穿戴柔性上肢外骨骼的研究进展与展望.pdf)

  [六自由度上肢康复机器人机构设计及轨迹规划\_张邦成.pdf](files/六自由度上肢康复机器人机构设计及轨迹规划_张邦成.pdf)

  [末端牵引式上肢外骨骼结构设计与运动学分析\_张凤鑫.pdf](files/末端牵引式上肢外骨骼结构设计与运动学分析_张凤鑫.pdf)

  [气动人工肌肉驱动的上肢康复外骨骼机器人设计与控制\_秦岩丁.pdf](files/气动人工肌肉驱动的上肢康复外骨骼机器人设计与控制_秦岩丁.pdf)

  [人机相容型上肢康复外骨骼的构型设计与运动学分析\_张争艳.pdf](files/人机相容型上肢康复外骨骼的构型设计与运动学分析_张争艳.pdf)

  [上肢外骨骼机器人结构设计与运动学分析\_杨述.pdf](files/上肢外骨骼机器人结构设计与运动学分析_杨述.pdf)

  [外骨骼上肢康复机器人动力学分析与仿真研究\_杜佳乐.pdf](files/外骨骼上肢康复机器人动力学分析与仿真研究_杜佳乐.pdf)

  [外骨骼式上肢康复机器人控制系统设计\_姜洁玲 (1).pdf](<files/外骨骼式上肢康复机器人控制系统设计_姜洁玲 (1).pdf>)

  设计四自由度外骨骼，肩部四自由度包括上抬/下沉（10°-20°）、内收/外展（30°-170°）、内旋/外旋（±60°）、屈曲/伸展（170°屈曲/30°伸展），覆盖肩部自然运动范围。

  PD型迭代学习控制：迭代10次后跟踪误差显著降低（<0.5°），收敛速度快，适应周期性康复训练需求。

  [一种上肢康复机器人及其康复评估应用研究\_张明亮.pdf](files/一种上肢康复机器人及其康复评估应用研究_张明亮.pdf)

* 文献综述(AI)

  #### 一、引言

  随着人口老龄化加剧和脑卒中发病率上升，上肢运动功能障碍康复需求日益增长。传统人工康复训练存在效率低、成本高等问题，促使康复机器人技术快速发展。

  #### 二、研究现状

  1. 结构设计与优化

     * 自由度配置​：主流设计聚焦6-7自由度（文档1、14、17），覆盖肩关节（3自由度）、肘关节（1-2自由度）及腕关节（2自由度）。文档17提出四自由度肩部结构，通过闭链机构补偿盂肱关节轴线漂移，提升人机相容性。

     * 构型创新​：柔性外骨骼成为趋势，文档13对比绳驱、气动和形状记忆合金驱动，较刚性结构减轻重量30%以上。文档15设计串并联混合结构，结合末端牵引与外骨骼优势，工作空间扩大45.97%（文档1）。

     * 轻量化设计​：采用碳纤维材料（文档14）和模块化关节（文档21），降低设备重量至2.5kg以下，提升穿戴舒适性。

  2. 驱动与传动技术

     * 电机驱动​：文档1采用扁平电机+谐波减速器，扭矩密度提升至3.5Nm/kg。文档20优化伺服电机PID控制，稳态误差<0.5°。

     * 气动人工肌肉（PAM）​​：文档16开发直驱+绳驱混合系统，迟滞补偿算法使轨迹跟踪误差降低至2.1mm，响应时间<200ms。

     * 绳驱系统​：文档14实现肩肘关节驱动，传动效率达85%，但存在绳索弹性形变问题，文档6通过RBF神经网络补偿，控制误差减少40%。

  3. 运动学与动力学建模

     * 运动学分析​：普遍采用改进D-H参数法（文档6、12、20），文档14通过蒙特卡洛仿真验证工作空间覆盖率超过人体上肢90%。逆运动学求解多采用解析法（文档1）或数值优化（文档17），计算效率提升30%。

     * 动力学建模​：文档7建立拉格朗日方程，结合SimMechanics仿真，驱动力矩预测误差<5%。文档16提出三元素PAM动力学模型，实现力矩控制精度±1.2Nm。

  4. 控制策略

     * 自适应控制​：文档6采用RBF神经网络补偿模型不确定性，轨迹跟踪均方根误差（RMSE）降至0.8mm。文档7提出增益自调整迭代学习控制，重复定位精度提高50%。

     * 模糊控制​：文档12融合sEMG与视觉反馈，抓取成功率提升至80%（Eye-to-hand）vs 50%（Eye-in-hand）。

     * 预测控制​：文档8开发LSTM+注意力机制模型，关节角度预测RMSE为7.9°，较传统BPNN降低32%。

  5. 传感与意图识别

     * 表面肌电（sEMG）​​：文档9-11提出多通道sEMG特征融合方法，时域（MAV、RMS）+频域（MF、MPF）+熵特征组合使动作识别准确率达91%（文档10）。文档8采用AR-LSTM网络实现肘关节角度连续预测，拟合优度R²=0.921。

     * 机器视觉​：文档12集成Eye-to-hand/Eye-in-hand系统，通过手眼标定将视觉定位误差控制在±2mm内，结合RRT\*算法实现避障路径规划。

     * 多模态融合​：文档22构建神经网络评估模型，融合运动学数据与生理信号（心率、耗氧量），评估结果与医师评分相关系数达0.989。

  #### 三、挑战与未来方向

  1. 现存问题

     * 人机交互安全性​：刚性结构易产生附加力矩（文档17），需进一步优化被动自由度设计。

     * 控制实时性​：sEMG信号处理延迟（文档10）导致意图识别滞后约200ms，影响闭环控制性能。

     * 个性化适配​：现有设备适配人群覆盖率不足70%（文档13），亟需开发可调节机构。

  2. 发展趋势

     * 智能化控制​：结合强化学习（文档7）与数字孪生技术，实现个性化康复方案动态优化。

     * 柔性驱动创新​：开发介电弹性体（文档13）等新型驱动器，提升系统柔顺性与能效比。

     * 多模态评估体系​：建立涵盖运动学、生理学、心理指标的标准化评估框架（文档22），推动临床转化。

  #### 四、结论

  上肢康复机器人研究在结构优化、智能控制、人机交互等方面取得显著进展，但临床实用化仍面临安全性、舒适性和个性化挑战。未来需融合新型材料、人工智能和生物信号处理技术，构建"感知-决策-执行"一体化系统，推动康复机器人向智能化、精准化方向发展。

* 摘要(AI)

  本研究提出一种基于肌电信号与深度视觉的上肢康复训练外骨骼系统，针对不同康复阶段患者设计半主动与被动双模式协同控制策略。系统通过AD8226ARZ-R7与TL084CDT构建多级放大电路，采用500Hz采样率采集肱二头肌、肱桡肌等关键肌肉的表面肌电信号，经递归滤波、特征提取（MAV/RMS/ZCR等时域参数）及动态建模后，构建BP神经网络实现肘关节角度预测，预测误差控制在±5%以内。机械臂采用轻量化设计（总重317g），搭载扭矩密度37.85N.m/kg的Cybergear微电机，结合FOC三环控制实现毫秒级动态响应。基于D-H参数建立的3D运动学模型支持逆解算法生成平滑轨迹，配合双目视觉SGBM算法实现三维空间定位精度±2mm。系统创新性地融合肌电-视觉双模态信息：半主动模式下通过末端力反馈动态调节助力比例（0-12N.m连续可调），当肌电信号低于阈值时补充缺失力矩，达标后施加可控阻力；被动模式则基于预编程轨迹引导患者完成10°-90°多幅度康复训练。实验表明，模式切换策略可根据肌电信号持续性与动作完成度（80%阈值）实现三级康复阶段自适应过渡，为神经损伤患者提供了从被动关节活动度维持到主动神经肌肉功能重建的完整解决方案。



# 二、核心模块

## 1、Cybergear微电机

* 官方上位机调试软件

  [CyberGear调试器.zip]()

* 官方文档

  [CyberGear微电机使用说明书.pdf](files/CyberGear微电机使用说明书.pdf)

* can总线通信协议二次开发

  [serial\_control\_interface.py](files/serial_control_interface.py)



## 2、Exoskeleton3D打印外骨骼

* 肩关节基座

  [shouder\_base.SLDPRT](files/shouder_base.SLDPRT)

* 肩关节连接

  [shouder\_chain.SLDPRT](files/shouder_chain.SLDPRT)

* 大臂关节上段

  [shouder\_connect.SLDPRT](files/shouder_connect.SLDPRT)

* 大臂关节下段

  [upperarm.SLDPRT](files/upperarm.SLDPRT)

* 小臂

  [小臂.SLDPRT](files/小臂.SLDPRT)

* 外骨骼装配体

  [cyberarm\_urdf.SLDASM](files/cyberarm_urdf.SLDASM)

* URDF文件

  [cyberarm\_urdf2.SLDASM.zip](files/cyberarm_urdf2.SLDASM.zip)

* 机械臂运动学及仿真

  [learn\_robot.py](files/learn_robot.py)



## 3、EMG肌电信号采集

* stm32AD三通道采集

  [7-2 AD多通道.zip](<files/7-2 AD多通道.zip>)

* 肌电信号采集线程

  [EMGprocessingThread.py](files/EMGprocessingThread.py)

* 肌电信号数据集，分为两类，一是用于预测关节角度的数据集，二是用于预测运动意识的数据集

  * 用于训练bp神经网络的原始时域数据集，0，1，2，3分为四类分别对应运动困难，小幅运动，正常运动，大幅运动

    [motor\_intention.csv](files/motor_intention.csv)

  * 经处理后的数据集，分别提取出均方根，绝对平均值，方差，用于bp神经网络训练

    [motor\_intention\_features.csv](files/motor_intention_features.csv)

  * 用于训练cnn神经网络的数据集，标签是肘关节角度值

    [angle\_processed.csv](files/angle_processed.csv)

  * 经处理后的数据集，分别提取出均方根，绝对平均值，方差，用于cnn神经网络训练

    [angle\_processed\_features.csv](files/angle_processed_features.csv)



* 处理原始数据提取均方根，绝对平均值，方差

[preprocess.py](files/preprocess.py)

* BP神经网络训练，分类任务训练，运动困难，小幅运动，正常运动，大幅运动对应不同的运动意图

  [train\_bp.py](files/train_bp.py)

  * BP神经网络训练结果

  * BP神经网络训练模型

  [scaler\_params.pth](files/scaler_params.pth)

  * CNN神经网络训练，用于主动模式中关节角度的预测

  [train\_cnn.py](files/train_cnn.py)

  * CNN神经网络训练结果

  * BP神经网络训练模型

  [angle\_cnn\_model.pth](files/angle_cnn_model.pth)



## 4、运动模式切换

* 主动模式

  采集肌电信号交由cnn神经网络预测关节角度，电机执行

* 被动模式

  双目摄像头计算要抓取物品的三维坐标，生成运动轨迹，带动手臂运动

* 半主动模式

  肌电信号强度与电机力矩模糊pid控制，

* 三种模式切换

  使用bp神经网络预测运动意图，意图低切换至被动，意图中切换至半主动，意图高换成主动

## 5、论文草稿

[基于肌电信号与深度视觉的上肢康复训练外骨骼学报小论文.docx](files/基于肌电信号与深度视觉的上肢康复训练外骨骼学报小论文.docx)

